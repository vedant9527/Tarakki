{% extends 'dashboard/dash-base.html' %}
{% block content %}
    <div class="flex items-center justify-center h-[70vh] ">
        <div class="flex gap-10 flex-col">

            <h1 class="font-semibold text-[32px] text-center text-gray-600">Generate your own Roadmap</h1>
            <div class="flex gap-2 items-center ">
                <input type="text" id="user_input" placeholder="Create a Roadmap" name="user_input" class="border rounded p-4 rounded-full w-[900px] bg-gray-200 " required>
                <button id="send-button"class=" btn btn-circle bg-gray-600 w-[80px] text-white" onclick="sendQuery()">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5" />
                      </svg>
                      
                  </button>
                  <div id="loadingSpinner" class="hidden flex justify-center items-center w-[100px]">
                    {% include 'dashboard/spinner.html' %}
                </div>
                
                
    
            </div>
                        <!-- Loading animation initially hidden -->

        </div>
    </div>
    <script>
        function sendQuery() {
            // Get the value from the input field
            var userInput = document.getElementById('user_input').value;

            // Check if the input is not empty
            if (userInput) {
                // Redirect to the new URL with the query parameter
                document.getElementById('loadingSpinner').classList.remove('hidden');
                document.getElementById('send-button').classList.add('hidden');
                window.location.href = `/roadmap/?career=${encodeURIComponent(userInput)}`;
            } else {
                alert('Please enter a value'); // Optional: alert if input is empty
            }
        }
    </script>
{% endblock %}